syntax = "proto3";
package sf.xrpl.type.v1;

option go_package = "github.com/xrpl-commons/firehose-xrpl/pb/sf/xrpl/type/v1;pbxrpl";

import "sf/xrpl/type/v1/amount.proto";

// AMMCreate - Creates an Automated Market Maker instance
// Reference: https://xrpl.org/ammcreate.html
message AMMCreate {
  // First asset to deposit
  Amount amount = 1;

  // Second asset to deposit
  Amount amount2 = 2;

  // Trading fee (0-1000, representing 0-1%)
  uint32 trading_fee = 3;
}

// AMMDeposit - Deposits assets into an AMM
// Reference: https://xrpl.org/ammdeposit.html
message AMMDeposit {
  // First asset identifier
  Asset asset = 1;

  // Second asset identifier
  Asset asset2 = 2;

  // (Optional) Amount of first asset to deposit
  Amount amount = 3;

  // (Optional) Amount of second asset to deposit
  Amount amount2 = 4;

  // (Optional) Effective price for single-asset deposit
  Amount e_price = 5;

  // (Optional) LP tokens to receive
  Amount lp_token_out = 6;

  // (Optional) Trading fee for the AMM
  uint32 trading_fee = 7;
}

// AMMWithdraw - Withdraws assets from an AMM
// Reference: https://xrpl.org/ammwithdraw.html
message AMMWithdraw {
  // First asset identifier
  Asset asset = 1;

  // Second asset identifier
  Asset asset2 = 2;

  // (Optional) Amount of first asset to withdraw
  Amount amount = 3;

  // (Optional) Amount of second asset to withdraw
  Amount amount2 = 4;

  // (Optional) Effective price for single-asset withdrawal
  Amount e_price = 5;

  // (Optional) LP tokens to burn
  Amount lp_token_in = 6;
}

// AMMVote - Votes on the trading fee for an AMM
// Reference: https://xrpl.org/ammvote.html
message AMMVote {
  // First asset identifier
  Asset asset = 1;

  // Second asset identifier
  Asset asset2 = 2;

  // Proposed trading fee (0-1000)
  uint32 trading_fee = 3;
}

// AMMBid - Bids on the auction slot of an AMM
// Reference: https://xrpl.org/ammbid.html
message AMMBid {
  // First asset identifier
  Asset asset = 1;

  // Second asset identifier
  Asset asset2 = 2;

  // (Optional) Minimum bid in LP tokens
  Amount bid_min = 3;

  // (Optional) Maximum bid in LP tokens
  Amount bid_max = 4;

  // (Optional) Accounts authorized to trade at discounted fee
  repeated AuthAccount auth_accounts = 5;
}

message AuthAccount {
  string account = 1;
}

// AMMDelete - Deletes an empty AMM instance
// Reference: https://xrpl.org/ammdelete.html
message AMMDelete {
  // First asset identifier
  Asset asset = 1;

  // Second asset identifier
  Asset asset2 = 2;
}

// AMMClawback - Claws back tokens from an AMM pool
// Reference: https://xrpl.org/ammclawback.html
message AMMClawback {
  // Holder of the LP tokens
  string holder = 1;

  // First asset identifier
  Asset asset = 2;

  // Second asset identifier
  Asset asset2 = 3;

  // (Optional) Amount to claw back
  Amount amount = 4;
}
