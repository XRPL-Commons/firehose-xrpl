syntax = "proto3";
package sf.xrpl.type.v1;

option go_package = "github.com/xrpl-commons/firehose-xrpl/pb/sf/xrpl/type/v1;pbxrpl";

import "sf/xrpl/type/v1/amount.proto";

// Payment transaction - transfers value from one account to another
// Reference: https://xrpl.org/payment.html
message Payment {
  // Destination account
  string destination = 1;

  // Amount to deliver to destination (alias for deliver_max in API v1)
  Amount amount = 2;

  // (Optional) Maximum amount to deliver (API v2+, same as amount)
  Amount deliver_max = 3;

  // (Optional) Maximum amount to send, including transfer fees
  Amount send_max = 4;

  // (Optional) Minimum amount to deliver (for partial payments)
  Amount deliver_min = 5;

  // (Optional) Payment paths for cross-currency payments
  repeated Path paths = 6;

  // (Optional) Arbitrary 256-bit hash for invoice/reference
  string invoice_id = 7;

  // (Optional) Destination tag
  uint32 destination_tag = 8;

  // (Optional) Set of Credentials to authorize deposit (array of ledger entry IDs)
  repeated string credential_ids = 9;

  // (Optional) Ledger entry ID of a permissioned domain
  // For cross-currency payments, only use the permissioned DEX of that domain
  string domain_id = 10;

  // (Optional) Transaction flags
  // tfNoRippleDirect = 65536 (0x00010000) - Do not use default path
  // tfPartialPayment = 131072 (0x00020000) - Allow partial payment
  // tfLimitQuality = 262144 (0x00040000) - Only use paths with good quality
  uint32 flags = 11;

  // --- From metadata ---
  // Actual amount delivered (may differ from amount for partial payments)
  Amount delivered_amount = 20;
}
