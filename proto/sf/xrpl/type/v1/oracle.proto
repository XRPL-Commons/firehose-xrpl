syntax = "proto3";
package sf.xrpl.type.v1;

option go_package = "github.com/xrpl-commons/firehose-xrpl/pb/sf/xrpl/type/v1;pbxrpl";

// OracleSet - Creates or updates a price oracle
// Reference: https://xrpl.org/oracleset.html
message OracleSet {
  // Unique identifier for this oracle
  uint32 oracle_document_id = 1;

  // (Optional) Provider name (hex)
  string provider = 2;

  // (Optional) URI for oracle data
  string uri = 3;

  // (Optional) Asset class (hex)
  string asset_class = 4;

  // Time of last update (Ripple epoch)
  uint32 last_update_time = 5;

  // Price data series
  repeated PriceData price_data_series = 6;
}

message PriceData {
  // Base asset
  string base_asset = 1;

  // Quote asset
  string quote_asset = 2;

  // (Optional) Asset price
  uint64 asset_price = 3;

  // (Optional) Scale factor
  uint32 scale = 4;
}

// OracleDelete - Deletes a price oracle
// Reference: https://xrpl.org/oracledelete.html
message OracleDelete {
  // Unique identifier of oracle to delete
  uint32 oracle_document_id = 1;
}
